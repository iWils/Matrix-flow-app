# === BASE DE DONNÉES POSTGRESQL ===
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="changeme-secure-password"
POSTGRES_DB="matrixflow"
POSTGRES_IP="db"

# Database URL for Prisma (Docker environment)
DATABASE_URL="postgresql://postgres:changeme-secure-password@localhost:5432/matrixflow"

# === AUTHENTIFICATION NEXTAUTH.JS ===
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-min-32-chars-for-production"
AUTH_TRUST_HOST=true

# === APPLICATION ===
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NODE_ENV="development"

# === REDIS CACHE (optionnel mais recommandé) ===
# En développement local: redis://localhost:6379
# En Docker: redis://redis:6379
REDIS_URL="redis://redis:6379"

# === CONFIGURATION HTTPS (optionnel) ===
# Activer HTTPS natif dans le container
ENABLE_HTTPS=false

# Ports d'écoute
HTTP_PORT=3000
HTTPS_PORT=443

# Génération automatique de certificats auto-signés si aucun certificat trouvé
GENERATE_SELF_SIGNED=true

# Redirection automatique HTTP -> HTTPS
FORCE_HTTPS=true

# Chemins vers les certificats SSL (si vous avez des certificats personnalisés)
SSL_CERTS_PATH=./ssl
# LETSENCRYPT_PATH=/etc/letsencrypt

# === CONFIGURATION ACME MULTI-CA (optionnel) ===
# Serveur d'autorité de certification (CA)
# Options: letsencrypt, letsencrypt-staging, zerossl, buypass, buypass-test, google, google-staging, ssl.com, step-ca
ACME_CA_SERVER=letsencrypt

# Email pour l'enregistrement ACME
ACME_EMAIL=admin@localhost

# Client ACME (actuellement seul acme.sh est supporté)
ACME_CLIENT=acme.sh

# Méthode de validation
# Options: http, dns, standalone, alpn
CHALLENGE_METHOD=http

# Fournisseur DNS (seulement si CHALLENGE_METHOD=dns)
# Voir: https://github.com/acmesh-official/acme.sh/wiki/dnsapi
# DNS_PROVIDER=dns_cf  # Cloudflare
# DNS_PROVIDER=dns_ovh # OVH
# DNS_PROVIDER=dns_gandi_livedns # Gandi

# === CONFIGURATION STEP-CA (si ACME_CA_SERVER=step-ca) ===
# URL du serveur Step-CA
# STEP_CA_URL=https://ca.example.com:9000

# Fingerprint du certificat racine Step-CA
# STEP_CA_ROOT=your-root-ca-fingerprint

# Nom du provisionneur Step-CA
# STEP_CA_PROVISIONER=acme

# Mot de passe du provisionneur (optionnel)
# STEP_CA_PASSWORD=your-provisioner-password

# Taille de la clé SSL (2048, 3072, 4096, ec-256, ec-384)
SSL_KEY_SIZE=4096

# Chemins vers les différents types de certificats
ACME_HOME=./acme
ZEROSSL_PATH=./zerossl
BUYPASS_PATH=./buypass
CUSTOM_CERTS_PATH=./custom-certs

# === CLÉS D'API POUR CAS COMMERCIAUX ===
# ZeroSSL API Key (optionnel, pour les fonctionnalités avancées)
# ZEROSSL_API_KEY=your-zerossl-api-key

# SSL.com API credentials (si vous utilisez ssl.com)
# SSLCOM_API_KEY=your-sslcom-api-key

# Logging
LOG_LEVEL="info"

# Sécurité
BCRYPT_ROUNDS=12

# Sauvegarde automatique (optionnel)
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# Rate limiting
RATE_LIMIT_ENABLED="true"
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100