<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Administrateur - Matrix Flow</title>
    <style>
        :root {
            --primary-color: #3b82f6;
            --secondary-color: #64748b;
            --background-color: #f8fafc;
            --surface-color: #ffffff;
            --text-color: #1e293b;
            --border-color: #e2e8f0;
            --accent-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --admin-color: #8b5cf6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .header {
            background: linear-gradient(135deg, var(--admin-color), var(--primary-color));
            color: white;
            padding: 2rem 0;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .breadcrumb {
            opacity: 0.9;
            margin-top: 0.5rem;
        }

        .breadcrumb a {
            color: white;
            text-decoration: none;
        }

        .nav {
            background-color: var(--admin-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-list {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }

        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .main {
            padding: 2rem 0;
            display: flex;
            gap: 2rem;
        }

        .sidebar {
            width: 280px;
            background-color: var(--surface-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 100px;
            border: 1px solid var(--border-color);
        }

        .sidebar h3 {
            color: var(--admin-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin-bottom: 0.5rem;
        }

        .sidebar a {
            color: var(--secondary-color);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
            display: block;
            padding: 0.25rem 0;
        }

        .sidebar a:hover {
            color: var(--admin-color);
        }

        .content {
            flex: 1;
            background-color: var(--surface-color);
            border-radius: 0.75rem;
            padding: 2rem;
            border: 1px solid var(--border-color);
        }

        .content h1 {
            color: var(--admin-color);
            margin-bottom: 2rem;
            font-size: 2.5rem;
            border-bottom: 3px solid var(--border-color);
            padding-bottom: 1rem;
        }

        .content h2 {
            color: var(--admin-color);
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        .content h3 {
            color: var(--text-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .content p {
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .content ul, .content ol {
            margin-bottom: 1rem;
            padding-left: 2rem;
        }

        .content li {
            margin-bottom: 0.5rem;
        }

        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid;
        }

        .alert-info {
            background-color: #eff6ff;
            border-color: var(--primary-color);
            color: #1d4ed8;
        }

        .alert-warning {
            background-color: #fffbeb;
            border-color: var(--warning-color);
            color: #92400e;
        }

        .alert-success {
            background-color: #ecfdf5;
            border-color: var(--accent-color);
            color: #047857;
        }

        .alert-danger {
            background-color: #fef2f2;
            border-color: var(--danger-color);
            color: #dc2626;
        }

        .alert-admin {
            background-color: #f3f4f6;
            border-color: var(--admin-color);
            color: #6b21a8;
        }

        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        .step {
            background-color: var(--background-color);
            border-left: 4px solid var(--admin-color);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
        }

        .step-number {
            background-color: var(--admin-color);
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background-color: var(--background-color);
            padding: 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
        }

        .feature-card h4 {
            color: var(--admin-color);
            margin-bottom: 1rem;
        }

        .admin-card {
            border-left: 4px solid var(--admin-color);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background-color: var(--surface-color);
        }

        .table th,
        .table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .table th {
            background-color: var(--background-color);
            font-weight: 600;
            color: var(--admin-color);
        }

        .config-section {
            background-color: #f8fafc;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .config-section h4 {
            color: var(--admin-color);
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .main {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: static;
            }

            .content h1 {
                font-size: 2rem;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .nav-list {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>üõ°Ô∏è Guide Administrateur Matrix Flow</h1>
            <div class="breadcrumb">
                <a href="index.html">Documentation</a> / Guide Administrateur
            </div>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <ul class="nav-list">
                <li><a href="index.html" class="nav-link">‚Üê Retour</a></li>
                <li><a href="#installation" class="nav-link">Installation</a></li>
                <li><a href="#utilisateurs" class="nav-link">Utilisateurs</a></li>
                <li><a href="#rbac" class="nav-link">RBAC</a></li>
                <li><a href="#systeme" class="nav-link">Syst√®me</a></li>
                <li><a href="#securite" class="nav-link">S√©curit√©</a></li>
            </ul>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <aside class="sidebar">
                <h3>üîß Administration</h3>
                <ul>
                    <li><a href="#introduction">Introduction</a></li>
                    <li><a href="#installation">Installation et d√©ploiement</a></li>
                    <li><a href="#configuration">Configuration initiale</a></li>
                    <li><a href="#utilisateurs">Gestion des utilisateurs</a>
                        <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                            <li><a href="#creation-utilisateur">Cr√©ation</a></li>
                            <li><a href="#roles-globaux">R√¥les globaux</a></li>
                            <li><a href="#gestion-mots-passe">Mots de passe</a></li>
                        </ul>
                    </li>
                    <li><a href="#rbac">RBAC et permissions</a>
                        <ul style="margin-left: 1rem; margin-top: 0.5rem;">
                            <li><a href="#groupes-utilisateurs">Groupes</a></li>
                            <li><a href="#permissions-matrices">Permissions matrices</a></li>
                        </ul>
                    </li>
                    <li><a href="#authentification">Authentification</a></li>
                    <li><a href="#systeme">Param√®tres syst√®me</a></li>
                    <li><a href="#email">Configuration email</a></li>
                    <li><a href="#sauvegarde">Sauvegardes</a></li>
                    <li><a href="#audit-admin">Audit et monitoring</a></li>
                    <li><a href="#securite">S√©curit√©</a></li>
                    <li><a href="#maintenance">Maintenance</a></li>
                </ul>
            </aside>

            <div class="content">
                <h1 id="introduction">Guide Administrateur Matrix Flow</h1>

                <div class="alert alert-admin">
                    <strong>üõ°Ô∏è Acc√®s administrateur requis :</strong> Ce guide s'adresse aux administrateurs syst√®me disposant des privil√®ges d'administration sur Matrix Flow.
                </div>

                <h2 id="installation">Installation et d√©ploiement</h2>

                <h3>Pr√©requis syst√®me</h3>

                <div class="config-section">
                    <h4>Logiciels requis</h4>
                    <ul>
                        <li><strong>Node.js :</strong> Version 18+ (LTS recommand√©e)</li>
                        <li><strong>PostgreSQL :</strong> Version 13+ (17 recommand√©e)</li>
                        <li><strong>Docker :</strong> Version 20+ (pour d√©ploiement containeris√©)</li>
                        <li><strong>Docker Compose :</strong> Version 2+</li>
                        <li><strong>Make :</strong> Pour l'utilisation des commandes de d√©veloppement</li>
                    </ul>
                </div>

                <div class="config-section">
                    <h4>Ressources serveur recommand√©es</h4>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Environnement</th>
                                <th>CPU</th>
                                <th>RAM</th>
                                <th>Stockage</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>D√©veloppement</td>
                                <td>2 cores</td>
                                <td>4 GB</td>
                                <td>50 GB</td>
                            </tr>
                            <tr>
                                <td>Test/Staging</td>
                                <td>4 cores</td>
                                <td>8 GB</td>
                                <td>100 GB</td>
                            </tr>
                            <tr>
                                <td>Production</td>
                                <td>8+ cores</td>
                                <td>16+ GB</td>
                                <td>200+ GB SSD</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Installation via Docker (Recommand√©e)</h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Cloner le repository</strong>
                        <div class="code-block">git clone https://github.com/votre-org/matrix-flow-app.git
cd matrix-flow-app</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Configuration des variables d'environnement</strong>
                        <div class="code-block">cp .env.example .env
# √âditez le fichier .env avec vos param√®tres</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <div>
                        <strong>D√©marrage avec Docker Compose</strong>
                        <div class="code-block">make prod
# ou directement
docker-compose -f docker-compose.prod.yml up -d</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">4</span>
                    <div>
                        <strong>Initialisation de la base de donn√©es</strong>
                        <div class="code-block">make db-push
make db-seed</div>
                    </div>
                </div>

                <h3>Installation manuelle</h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Installation des d√©pendances</strong>
                        <div class="code-block">make install
# ou
cd web && npm install</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Configuration de PostgreSQL</strong>
                        <div class="code-block">createdb matrixflow
createuser matrixflow_user --pwprompt</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <div>
                        <strong>Configuration du fichier .env</strong>
                        <div class="code-block">DATABASE_URL="postgresql://matrixflow_user:password@localhost:5432/matrixflow"
NEXTAUTH_URL="https://votre-domaine.com"
NEXTAUTH_SECRET="votre-cl√©-secr√®te-min-32-chars"
NODE_ENV="production"</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">4</span>
                    <div>
                        <strong>Build et d√©marrage</strong>
                        <div class="code-block">npm run build
npm run start</div>
                    </div>
                </div>

                <h2 id="configuration">Configuration initiale</h2>

                <h3>Premi√®re connexion administrateur</h3>

                <div class="alert alert-warning">
                    <strong>S√©curit√© critique :</strong> Changez imm√©diatement les identifiants par d√©faut apr√®s l'installation !
                </div>

                <div class="config-section">
                    <h4>Identifiants par d√©faut</h4>
                    <ul>
                        <li><strong>Nom d'utilisateur :</strong> admin</li>
                        <li><strong>Mot de passe :</strong> admin</li>
                        <li><strong>R√¥le :</strong> Administrateur global</li>
                    </ul>
                </div>

                <h3>Configuration des variables d'environnement</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <th>Description</th>
                            <th>Exemple</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>DATABASE_URL</td>
                            <td>URL de connexion PostgreSQL</td>
                            <td>postgresql://user:pass@host:5432/db</td>
                        </tr>
                        <tr>
                            <td>NEXTAUTH_URL</td>
                            <td>URL publique de l'application</td>
                            <td>https://matrix-flow.company.com</td>
                        </tr>
                        <tr>
                            <td>NEXTAUTH_SECRET</td>
                            <td>Cl√© de chiffrement des sessions</td>
                            <td>random-string-min-32-chars</td>
                        </tr>
                        <tr>
                            <td>NODE_ENV</td>
                            <td>Environnement d'ex√©cution</td>
                            <td>production</td>
                        </tr>
                    </tbody>
                </table>

                <h2 id="utilisateurs">Gestion des utilisateurs</h2>

                <h3 id="creation-utilisateur">Cr√©ation d'utilisateurs</h3>

                <p>En tant qu'administrateur, vous pouvez cr√©er des utilisateurs via le panneau d'administration :</p>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Acc√®s au panneau d'administration</strong><br>
                        Menu principal > Administration > Gestion des utilisateurs
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Cr√©ation d'un nouvel utilisateur</strong><br>
                        Cliquez sur "Nouvel utilisateur" et remplissez :
                        <ul>
                            <li>Nom d'utilisateur (unique)</li>
                            <li>Nom complet</li>
                            <li>Adresse email</li>
                            <li>Mot de passe temporaire</li>
                            <li>R√¥le global</li>
                            <li>Langue par d√©faut</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <div>
                        <strong>Configuration initiale</strong><br>
                        L'utilisateur recevra un email avec ses identifiants et devra changer son mot de passe √† la premi√®re connexion.
                    </div>
                </div>

                <h3 id="roles-globaux">R√¥les globaux</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>R√¥le</th>
                            <th>Permissions globales</th>
                            <th>Cas d'usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>admin</strong></td>
                            <td>Acc√®s complet au syst√®me, administration</td>
                            <td>Administrateurs syst√®me, responsables s√©curit√©</td>
                        </tr>
                        <tr>
                            <td><strong>user</strong></td>
                            <td>Cr√©ation de matrices, gestion de ses propres matrices</td>
                            <td>Ing√©nieurs r√©seau, architectes, analystes</td>
                        </tr>
                        <tr>
                            <td><strong>viewer</strong></td>
                            <td>Consultation uniquement des matrices autoris√©es</td>
                            <td>Auditeurs, consultants externes, stagiaires</td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="gestion-mots-passe">Gestion des mots de passe</h3>

                <div class="feature-grid">
                    <div class="feature-card admin-card">
                        <h4>üîí Politique de s√©curit√©</h4>
                        <ul>
                            <li>Minimum 8 caract√®res</li>
                            <li>Au moins une majuscule</li>
                            <li>Au moins une minuscule</li>
                            <li>Au moins un chiffre</li>
                            <li>Expiration configurable</li>
                        </ul>
                    </div>
                    <div class="feature-card admin-card">
                        <h4>üõ†Ô∏è Actions administrateur</h4>
                        <ul>
                            <li>R√©initialisation de mot de passe</li>
                            <li>Forcer le changement</li>
                            <li>Verrouillage de compte</li>
                            <li>Historique des connexions</li>
                        </ul>
                    </div>
                </div>

                <h2 id="rbac">RBAC et permissions</h2>

                <h3>Architecture des permissions</h3>

                <p>Matrix Flow utilise un syst√®me de permissions √† deux niveaux :</p>

                <div class="config-section">
                    <h4>Niveaux de permissions</h4>
                    <ol>
                        <li><strong>Permissions globales :</strong> R√¥les syst√®me (admin, user, viewer)</li>
                        <li><strong>Permissions matricielles :</strong> R√¥les sp√©cifiques √† chaque matrice (owner, editor, viewer)</li>
                    </ol>
                </div>

                <h3 id="groupes-utilisateurs">Groupes d'utilisateurs</h3>

                <p>Les groupes permettent de simplifier la gestion des permissions en regroupant les utilisateurs par fonction ou d√©partement.</p>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Cr√©ation d'un groupe</strong><br>
                        Administration > RBAC > Groupes d'utilisateurs > Nouveau groupe
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Configuration du groupe</strong><br>
                        <ul>
                            <li>Nom du groupe</li>
                            <li>Description</li>
                            <li>Permissions par d√©faut</li>
                            <li>Membres du groupe</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <div>
                        <strong>Attribution des permissions</strong><br>
                        Les permissions du groupe sont automatiquement h√©rit√©es par tous les membres.
                    </div>
                </div>

                <h3 id="permissions-matrices">Permissions sur les matrices</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Permission</th>
                            <th>Owner</th>
                            <th>Editor</th>
                            <th>Viewer</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Consulter la matrice</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                        </tr>
                        <tr>
                            <td>Cr√©er des flux</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                            <td>‚ùå</td>
                        </tr>
                        <tr>
                            <td>Modifier des flux</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                            <td>‚ùå</td>
                        </tr>
                        <tr>
                            <td>Supprimer des flux</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                            <td>‚ùå</td>
                        </tr>
                        <tr>
                            <td>Approuver les changements</td>
                            <td>‚úÖ</td>
                            <td>‚ùå*</td>
                            <td>‚ùå</td>
                        </tr>
                        <tr>
                            <td>G√©rer les permissions</td>
                            <td>‚úÖ</td>
                            <td>‚ùå</td>
                            <td>‚ùå</td>
                        </tr>
                        <tr>
                            <td>Supprimer la matrice</td>
                            <td>‚úÖ</td>
                            <td>‚ùå</td>
                            <td>‚ùå</td>
                        </tr>
                    </tbody>
                </table>

                <p><em>* Les √©diteurs peuvent approuver selon la configuration de la matrice</em></p>

                <h2 id="authentification">Configuration de l'authentification</h2>

                <h3>Fournisseurs d'authentification</h3>

                <p>Matrix Flow supporte plusieurs m√©thodes d'authentification :</p>

                <div class="feature-grid">
                    <div class="feature-card admin-card">
                        <h4>üè† Authentification locale</h4>
                        <p>Base de donn√©es interne avec gestion compl√®te des utilisateurs et mots de passe.</p>
                    </div>
                    <div class="feature-card admin-card">
                        <h4>üåê LDAP/Active Directory</h4>
                        <p>Int√©gration avec votre annuaire d'entreprise existant.</p>
                    </div>
                    <div class="feature-card admin-card">
                        <h4>üîê OIDC/OAuth2</h4>
                        <p>Authentification via des fournisseurs externes (Azure AD, Google, etc.).</p>
                    </div>
                    <div class="feature-card admin-card">
                        <h4>üè¢ SAML 2.0</h4>
                        <p>Single Sign-On pour les environnements d'entreprise.</p>
                    </div>
                </div>

                <h3>Configuration LDAP</h3>

                <div class="config-section">
                    <h4>Param√®tres LDAP</h4>
                    <div class="code-block">{
  "server": "ldap://votre-dc.company.com:389",
  "bindDN": "CN=service-account,OU=Service Accounts,DC=company,DC=com",
  "bindPassword": "mot-de-passe-service",
  "searchBase": "OU=Users,DC=company,DC=com",
  "searchFilter": "(sAMAccountName={{username}})",
  "attributes": {
    "username": "sAMAccountName",
    "email": "mail",
    "fullName": "displayName"
  }
}</div>
                </div>

                <h2 id="systeme">Param√®tres syst√®me</h2>

                <h3>Configuration g√©n√©rale</h3>

                <div class="config-section">
                    <h4>Param√®tres de l'application</h4>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Param√®tre</th>
                                <th>Description</th>
                                <th>Valeur par d√©faut</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>session_timeout</td>
                                <td>Dur√©e de session en minutes</td>
                                <td>480 (8h)</td>
                            </tr>
                            <tr>
                                <td>password_expiry_days</td>
                                <td>Expiration des mots de passe en jours</td>
                                <td>90</td>
                            </tr>
                            <tr>
                                <td>max_login_attempts</td>
                                <td>Tentatives de connexion avant verrouillage</td>
                                <td>5</td>
                            </tr>
                            <tr>
                                <td>account_lockout_duration</td>
                                <td>Dur√©e de verrouillage en minutes</td>
                                <td>30</td>
                            </tr>
                            <tr>
                                <td>audit_retention_days</td>
                                <td>R√©tention des logs d'audit en jours</td>
                                <td>365</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Notifications syst√®me</h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Configuration des alertes</strong><br>
                        Administration > Syst√®me > Notifications
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Types de notifications</strong><br>
                        <ul>
                            <li>Connexions administrateur</li>
                            <li>Modifications de configuration</li>
                            <li>Erreurs syst√®me critiques</li>
                            <li>√âchec de sauvegarde</li>
                            <li>Utilisation excessive des ressources</li>
                        </ul>
                    </div>
                </div>

                <h2 id="email">Configuration email</h2>

                <h3>Param√®tres SMTP</h3>

                <div class="config-section">
                    <h4>Configuration du serveur email</h4>
                    <div class="code-block">{
  "smtp_host": "smtp.company.com",
  "smtp_port": 587,
  "smtp_secure": true,
  "smtp_user": "noreply@company.com",
  "smtp_password": "mot-de-passe-smtp",
  "from_address": "Matrix Flow <noreply@company.com>",
  "reply_to": "support@company.com"
}</div>
                </div>

                <h3>Templates d'emails</h3>

                <p>Personnalisez les templates d'emails pour diff√©rents √©v√©nements :</p>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üìß Bienvenue</h4>
                        <p>Email envoy√© lors de la cr√©ation d'un compte utilisateur.</p>
                    </div>
                    <div class="feature-card">
                        <h4>üîê R√©initialisation</h4>
                        <p>Email de r√©initialisation de mot de passe.</p>
                    </div>
                    <div class="feature-card">
                        <h4>‚úÖ Approbation</h4>
                        <p>Notification de demande d'approbation.</p>
                    </div>
                    <div class="feature-card">
                        <h4>üö® Alertes</h4>
                        <p>Alertes de s√©curit√© et notifications syst√®me.</p>
                    </div>
                </div>

                <h2 id="sauvegarde">Sauvegardes</h2>

                <h3>Configuration automatique</h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Planification des sauvegardes</strong><br>
                        Administration > Syst√®me > Sauvegardes > Planificateur
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Configuration</strong><br>
                        <ul>
                            <li>Fr√©quence : Quotidienne, Hebdomadaire, Mensuelle</li>
                            <li>Heure d'ex√©cution</li>
                            <li>R√©tention : Nombre de sauvegardes √† conserver</li>
                            <li>Destination : Locale, S3, FTP</li>
                        </ul>
                    </div>
                </div>

                <h3>Sauvegarde manuelle</h3>

                <div class="code-block">make backup
# ou directement
pg_dump $DATABASE_URL > backup_$(date +%Y%m%d_%H%M%S).sql</div>

                <h3>Restauration</h3>

                <div class="alert alert-danger">
                    <strong>‚ö†Ô∏è Attention :</strong> La restauration remplace compl√®tement la base de donn√©es existante. Cr√©ez une sauvegarde avant de proc√©der.
                </div>

                <div class="code-block">make db-restore BACKUP_FILE=backup_20240315_143000.sql
# ou
psql $DATABASE_URL < backup_20240315_143000.sql</div>

                <h2 id="audit-admin">Audit et monitoring</h2>

                <h3>Dashboard de monitoring</h3>

                <p>Le dashboard administrateur fournit une vue d'ensemble de l'√©tat du syst√®me :</p>

                <div class="feature-grid">
                    <div class="feature-card admin-card">
                        <h4>üìä M√©triques syst√®me</h4>
                        <ul>
                            <li>Nombre d'utilisateurs actifs</li>
                            <li>Matrices cr√©√©es/modifi√©es</li>
                            <li>Demandes d'approbation en cours</li>
                            <li>Erreurs et alertes</li>
                        </ul>
                    </div>
                    <div class="feature-card admin-card">
                        <h4>üîç Surveillance</h4>
                        <ul>
                            <li>Connexions √©chou√©es</li>
                            <li>Actions privil√©gi√©es</li>
                            <li>Modifications de configuration</li>
                            <li>Performance des requ√™tes</li>
                        </ul>
                    </div>
                </div>

                <h3>Logs d'audit avanc√©s</h3>

                <p>En tant qu'administrateur, vous avez acc√®s √† l'audit complet :</p>

                <ul>
                    <li><strong>Filtrage avanc√© :</strong> Par utilisateur, action, p√©riode, IP source</li>
                    <li><strong>Export :</strong> G√©n√©ration de rapports d'audit</li>
                    <li><strong>R√©tention :</strong> Configuration de la dur√©e de conservation</li>
                    <li><strong>Alertes :</strong> Notifications sur √©v√©nements sensibles</li>
                </ul>

                <h2 id="securite">S√©curit√©</h2>

                <h3>Bonnes pratiques</h3>

                <div class="alert alert-admin">
                    <strong>üõ°Ô∏è Checklist s√©curit√© :</strong> Suivez cette liste pour maintenir un niveau de s√©curit√© optimal.
                </div>

                <div class="config-section">
                    <h4>Configuration s√©curis√©e</h4>
                    <ul>
                        <li>‚úÖ Changement des mots de passe par d√©faut</li>
                        <li>‚úÖ Configuration HTTPS avec certificats valides</li>
                        <li>‚úÖ Pare-feu configur√© (ports 80/443 uniquement)</li>
                        <li>‚úÖ Sauvegardes r√©guli√®res et test√©es</li>
                        <li>‚úÖ Mise √† jour syst√®me et applicative</li>
                        <li>‚úÖ Monitoring des logs de s√©curit√©</li>
                        <li>‚úÖ Politique de mots de passe renforc√©e</li>
                        <li>‚úÖ Sessions limit√©es dans le temps</li>
                    </ul>
                </div>

                <h3>Hardening du syst√®me</h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Configuration du reverse proxy</strong><br>
                        Utilisez Nginx ou Apache comme reverse proxy avec :
                        <div class="code-block">proxy_hide_header X-Powered-By;
add_header X-Frame-Options DENY;
add_header X-Content-Type-Options nosniff;
add_header X-XSS-Protection "1; mode=block";
add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload";</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>Configuration de la base de donn√©es</strong><br>
                        <ul>
                            <li>Utilisateur d√©di√© avec privil√®ges minimaux</li>
                            <li>Connexions SSL obligatoires</li>
                            <li>Restriction des adresses IP autoris√©es</li>
                            <li>Chiffrement de la base au repos</li>
                        </ul>
                    </div>
                </div>

                <h3>R√©ponse aux incidents</h3>

                <div class="alert alert-danger">
                    <strong>üö® En cas de compromission :</strong>
                    <ol>
                        <li>Isoler le syst√®me (d√©connecter du r√©seau)</li>
                        <li>Pr√©server les logs d'audit</li>
                        <li>Changer tous les mots de passe administrateur</li>
                        <li>Analyser les logs pour identifier les actions malveillantes</li>
                        <li>Restaurer depuis une sauvegarde saine si n√©cessaire</li>
                        <li>Impl√©menter des mesures correctives</li>
                    </ol>
                </div>

                <h2 id="maintenance">Maintenance</h2>

                <h3>T√¢ches r√©guli√®res</h3>

                <div class="config-section">
                    <h4>Planning de maintenance recommand√©</h4>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Fr√©quence</th>
                                <th>T√¢ches</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Quotidien</td>
                                <td>V√©rification des sauvegardes, surveillance des logs</td>
                            </tr>
                            <tr>
                                <td>Hebdomadaire</td>
                                <td>Analyse des performances, nettoyage des logs</td>
                            </tr>
                            <tr>
                                <td>Mensuel</td>
                                <td>Mise √† jour s√©curit√©, r√©vision des comptes utilisateur</td>
                            </tr>
                            <tr>
                                <td>Trimestriel</td>
                                <td>Audit s√©curit√©, test de restauration, mise √† jour majeure</td>
                            </tr>
                            <tr>
                                <td>Annuel</td>
                                <td>R√©vision compl√®te de s√©curit√©, renouvellement certificats</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Mise √† jour du syst√®me</h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Pr√©paration</strong><br>
                        <ul>
                            <li>Cr√©er une sauvegarde compl√®te</li>
                            <li>Tester la mise √† jour en environnement de test</li>
                            <li>Planifier une fen√™tre de maintenance</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <div>
                        <strong>D√©ploiement</strong><br>
                        <div class="code-block">git pull origin main
docker-compose -f docker-compose.prod.yml down
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d</div>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <div>
                        <strong>V√©rification post-mise √† jour</strong><br>
                        <ul>
                            <li>Test de connexion et fonctionnalit√©s critiques</li>
                            <li>V√©rification des logs d'erreur</li>
                            <li>Surveillance des performances</li>
                        </ul>
                    </div>
                </div>

                <h3>D√©pannage</h3>

                <div class="config-section">
                    <h4>Probl√®mes courants et solutions</h4>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Probl√®me</th>
                                <th>Cause probable</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Connexions √©chouent</td>
                                <td>Base de donn√©es inaccessible</td>
                                <td>V√©rifier le service PostgreSQL, connexions r√©seau</td>
                            </tr>
                            <tr>
                                <td>Performance d√©grad√©e</td>
                                <td>Manque de ressources</td>
                                <td>Augmenter RAM/CPU, optimiser les requ√™tes</td>
                            </tr>
                            <tr>
                                <td>Sessions expir√©es rapidement</td>
                                <td>Configuration session_timeout</td>
                                <td>Ajuster les param√®tres de session</td>
                            </tr>
                            <tr>
                                <td>Emails non envoy√©s</td>
                                <td>Configuration SMTP incorrecte</td>
                                <td>V√©rifier param√®tres email, connectivit√© serveur</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <strong>üí° Support :</strong> Pour un support technique approfondi, consultez la documentation technique ou contactez l'√©quipe de d√©veloppement.
                </div>
            </div>
        </div>
    </main>
</body>
</html>